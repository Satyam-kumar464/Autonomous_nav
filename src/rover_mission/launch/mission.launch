<launch>
  <!-- ðŸ•¹ï¸ Teleop for manual control -->
  <node pkg="teleop_twist_keyboard" type="teleop_twist_keyboard.py"
        name="teleop" output="screen"/>
  

  <!-- âš™ï¸ Load controller parameters -->
  <include file="$(find rover_mission)/launch/controller.launch"/>

  <!-- ðŸŒ Launch Gazebo simulation -->
  <include file="$(find rover_mission)/launch/gazebo.launch"/>

  <!-- ðŸ¤– Load robot description from Xacro -->
  <param name="robot_description"
         command="$(find xacro)/xacro $(find rover_mission)/urdf/rover.urdf.xacro"/>

  <!-- ðŸš€ Spawn robot in Gazebo -->
  <node name="$(anon spawn_urdf)" pkg="gazebo_ros" type="spawn_model"
        args="-param robot_description -urdf -model rover_$(anon id)"
        output="screen"/>

  <!-- ðŸ§  Start controller manager -->
  <node name="$(anon controller_spawner)" pkg="controller_manager" type="spawner"
        args="diff_drive_controller"
        output="screen"/>

  <!-- ðŸ—ºï¸ Load costmap or exploration parameters -->
  <rosparam file="$(find rover_mission)/config/costmap_exploration.yaml" command="load"/>
</launch>

